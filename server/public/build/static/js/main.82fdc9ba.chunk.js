(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{27:function(e,t,c){},28:function(e,t,c){},49:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){},54:function(e,t,c){},55:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),r=c(22),s=c.n(r),l=(c(27),c(28),c(4)),i=c(3),o=c.n(i),d=c(6),j=c(2),b=c(7),u=c(5),m=c.n(u),h=c(0),p=Object(a.createContext)();function x(e){var t=Object(a.useState)(),c=Object(j.a)(t,2),n=c[0],r=c[1],s=Object(a.useState)(!1),l=Object(j.a)(s,2),i=l[0],b=l[1];function u(){return x.apply(this,arguments)}function x(){return(x=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("/login/loggedin",{withCredentials:!0});case 2:t=e.sent,r(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("/admin/isadmin",{withCredentials:!0});case 3:t=e.sent,b(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){u(),function(){O.apply(this,arguments)}()}),[]),Object(h.jsx)(p.Provider,{value:{loggedIn:n,getLoggedIn:u,isAdmin:i,setIsAdmin:b},children:e.children})}var O=p,f=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(""),s=Object(j.a)(r,2),i=s[0],u=s[1],p=Object(a.useContext)(O).getLoggedIn,x=Object(l.g)();function f(){return(f=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,a={email:c,password:i},e.next=5,m.a.post("/login",a,{withCredentials:!0});case 5:return e.next=7,p();case 7:x("/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}return Object(h.jsxs)("div",{className:"container  mt-5 position-relative text-center",children:[Object(h.jsxs)("div",{className:"page-title m-auto",style:{maxWidth:"1000px"},children:[Object(h.jsx)("h2",{children:"Welcome back!"}),Object(h.jsx)("h4",{children:"Log in to your account."})]}),Object(h.jsxs)("form",{onSubmit:function(e){return f.apply(this,arguments)},className:"w-25 m-auto mt-4 fs-4",children:[Object(h.jsxs)("div",{className:"form text-start",children:[Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"username",className:"form-label",children:"Email"}),Object(h.jsx)("input",{className:"form-control",type:"email",placeholder:"Email",onChange:function(e){return n(e.target.value)},value:c})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(h.jsx)("input",{type:"password",className:"form-control",placeholder:"Password",onChange:function(e){return u(e.target.value)},value:i})]})]}),Object(h.jsx)("div",{className:"mb-3",children:Object(h.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg",children:"Login"})})]}),Object(h.jsxs)("div",{className:"page-title mt-5",children:["Forgot password?",Object(h.jsx)("a",{style:{textDecoration:"underline",color:"blue"},href:"/",children:"Reset"}),Object(h.jsx)("br",{}),"Don't have an account?",Object(h.jsx)(b.a,{style:{textDecoration:"underline",color:"blue"},to:"/register",children:"Sign up"})]})]})};var v=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(""),s=Object(j.a)(r,2),i=s[0],b=s[1],u=Object(a.useState)(""),p=Object(j.a)(u,2),x=p[0],f=p[1],v=Object(a.useState)(""),g=Object(j.a)(v,2),N=g[0],y=g[1],w=Object(a.useState)(""),C=Object(j.a)(w,2),k=C[0],S=C[1],I=Object(a.useContext)(O).getLoggedIn,P=Object(l.g)();function F(){return(F=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),x===N){e.next=4;break}return alert("Passwords should match"),e.abrupt("return");case 4:if(!(x.length<=8)){e.next=7;break}return alert("Passwords too short"),e.abrupt("return");case 7:return e.prev=7,a={name:c,email:i,password:x,address:k},e.next=11,m.a.post("/signin",a,{withCredentials:!0});case 11:return e.next=13,I();case 13:P("/"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(7),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[7,16]])})))).apply(this,arguments)}return Object(h.jsxs)("div",{className:"container mt-5 m-auto text-center",children:[Object(h.jsxs)("div",{className:"",children:[Object(h.jsx)("h2",{children:"Join PC partz Store"}),Object(h.jsx)("h4",{children:"A world of better Computing."})]}),Object(h.jsxs)("form",{onSubmit:function(e){return F.apply(this,arguments)},className:"w-25 m-auto mt-4 fs-5",children:[Object(h.jsxs)("div",{className:"form d-block text-start",children:[Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"username",className:"form-label",children:"Username"}),Object(h.jsx)("input",{type:"text",className:"form-control",name:"username",placeholder:"username",onChange:function(e){return n(e.target.value)}})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),Object(h.jsx)("input",{type:"email",name:"emailAddress",className:"form-control",placeholder:"email",onChange:function(e){return b(e.target.value)}})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(h.jsx)("input",{type:"password",name:"password",className:"form-control",placeholder:"password",onChange:function(e){return f(e.target.value)}})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"password",className:"form-label",children:"Confirm Password"}),Object(h.jsx)("input",{type:"password",name:"passwordConfirmation",className:"form-control",placeholder:"password",onChange:function(e){return y(e.target.value)}})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"address",className:"form-label",children:"Address"}),Object(h.jsx)("textarea",{type:"textarea",name:"address",className:"form-control",placeholder:"address",onChange:function(e){return S(e.target.value)}})]})]}),Object(h.jsx)("div",{className:"",children:Object(h.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg",children:"Register"})})]})]})},g=(c(49),c(50),function(e){var t=Object(a.useState)(!1),c=Object(j.a)(t,2),n=c[0],r=c[1],s=Object(a.useState)(new Array(e.category.length).fill(!1)),l=Object(j.a)(s,2),i=l[0],o=l[1];return Object(h.jsxs)("div",{className:"fw-light",children:[Object(h.jsx)("div",{className:"border-bottom",children:Object(h.jsxs)("a",{className:"ropdown-toggle w-100 d-flex justify-content-between text-dark text-decoration-none my-2",href:"#category",onClick:function(){r(!n)},children:[Object(h.jsx)("div",{className:"fw-normal fs-5",children:"Category"}),n?Object(h.jsx)("i",{className:"bi bi-caret-up-fill"}):Object(h.jsx)("i",{className:"bi bi-caret-down-fill"})]})}),Object(h.jsx)("div",{className:n?"category-list":"category-list-closed",children:Object(h.jsx)("ul",{className:"list-group",children:e.category.map((function(t,c){return Object(h.jsxs)("li",{className:"list-group-item border-0",children:[Object(h.jsx)("input",{className:"form-check-input m-1",type:"checkbox",value:c,checked:i[c],onChange:function(){return function(t){var c=e.searchCategory,a=c.indexOf(e.category[t]);-1!==a?c.splice(a,1):c.push(e.category[t]);var n=i.map((function(e,c){return c===t?!e:e}));o(n),e.setSearchCategory(c),e.handelclick()}(c)}}),t]},t)}))})})]})}),N=(c(51),function(e){var t=n.a.createRef();return Object(h.jsxs)("div",{className:"list-group-item border-0 ",children:[Object(h.jsx)("div",{className:"border-bottom d-flex justify-content-between",children:Object(h.jsx)("div",{className:"fw-normal fs-5",children:"Search"})}),Object(h.jsxs)("div",{className:"search mt-2",children:[Object(h.jsx)("i",{className:"bi bi-search icon"}),Object(h.jsx)("input",{type:"text",className:"form-control",placeholder:"Search pc parts",ref:t}),Object(h.jsx)("button",{className:"btn btn-primary",onClick:function(c){e.setQuery(t.current.value),e.handelclick()},children:Object(h.jsx)("i",{className:"bi bi-search"})})]})]})}),y=function(e){var t=Object(a.useState)([]),c=Object(j.a)(t,2),r=c[0],s=c[1],l=n.a.createRef(),i=n.a.createRef();function b(){var t=[0,1e4];t[0]=""===l.current.value?0:l.current.value,t[1]=""===i.current.value?1e3:i.current.value,e.setPrice(t)}return Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("/products/category");case 2:t=e.sent,s(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(h.jsxs)("div",{className:"sidebar sticky-top pt-3",children:[Object(h.jsx)("h4",{children:"Categories and Filters"}),Object(h.jsx)(N,{query:e.query,setQuery:e.setQuery,handelclick:b}),Object(h.jsxs)("div",{className:"mt-3 card border-0 ",children:[Object(h.jsx)("div",{className:"list-group-item border-0 ",children:Object(h.jsx)(g,{category:r,setSearchCategory:e.setSearchCategory,searchCategory:e.searchCategory,handelclick:b})}),Object(h.jsxs)("div",{className:"list-group-item border-0 ",children:[Object(h.jsx)("div",{className:"border-bottom d-flex justify-content-between",children:Object(h.jsx)("div",{className:"fw-normal fs-5",children:"Price"})}),Object(h.jsx)("div",{className:"pt-3",children:Object(h.jsxs)("div",{className:"input-group mb-3 w-100",children:[Object(h.jsx)("span",{className:"input-group-text",children:"$"}),Object(h.jsx)("input",{type:"text",className:"form-control me-2",placeholder:"min",ref:l}),Object(h.jsx)("span",{className:"input-group-text",children:"$"}),Object(h.jsx)("input",{type:"text",className:"form-control me-2",placeholder:"max",ref:i})]})})]})]})]})},w=function(e){return Object(h.jsx)("div",{className:"mt-2",children:Object(h.jsx)("nav",{"aria-label":"...",children:Object(h.jsxs)("ul",{className:"pagination justify-content-center",children:[Object(h.jsx)("li",{className:"page-item",children:Object(h.jsx)("span",{className:"page-link",children:Object(h.jsx)("button",{className:"btn",onClick:function(){return e.setCurrentPage(Math.max(0,e.currentPage-1))},children:"Previous"})})}),e.pages.slice(Math.max(0,e.currentPage-2),Math.max(5,e.currentPage+2)).map((function(t){return Object(h.jsx)("li",{className:t===e.currentPage?"page-item active text-white":"page-item",children:Object(h.jsx)("span",{className:"page-link",children:Object(h.jsx)("button",{className:"btn",onClick:function(){return e.setCurrentPage(t)},children:t+1})})},t)})),Object(h.jsx)("li",{className:"page-item disabled",children:Object(h.jsx)("span",{className:"page-link",children:Object(h.jsx)("button",{className:"btn",children:Object(h.jsx)("b",{children:"...."})})})}),Object(h.jsx)("li",{className:"page-item",children:Object(h.jsx)("span",{className:"page-link",children:Object(h.jsx)("button",{className:"btn",onClick:function(){return e.setCurrentPage(Math.min(e.totalpages-1,e.currentPage+1))},children:"Next"})})})]})})})};c(52);var C=function(e){var t=Object(a.useState)("Add to Cart"),c=Object(j.a)(t,2),n=c[0],r=c[1],s=Object(a.useContext)(O),i=s.isAdmin,u=s.loggedIn,p=Object(l.g)();function x(){return(x=Object(d.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u){t.next=3;break}return alert("Login Required"),t.abrupt("return");case 3:return t.next=5,m.a.post("/cart/add/".concat(e.product._id),{hello:"hello"},{withCredentials:!0});case 5:p("/"),r("Added to cart");case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var f,v=e.product,g=v.brand,N=v.model,y=v.category,w=v._id,C=v.inventory;return Object(h.jsxs)("div",{className:"row border-bottom border-1 mb-2 p-3",children:[Object(h.jsx)("div",{className:"col-md-4 ",children:Object(h.jsx)(b.a,{to:"/product/".concat(w),children:Object(h.jsx)("div",{className:"card-image",children:Object(h.jsx)("img",{src:"/no-thumbnail-medium.jpg",alt:"hello",className:"max-vw-5"})})})}),Object(h.jsx)("div",{className:"col-md-5",children:Object(h.jsx)(b.a,{to:"/product/".concat(w),className:"text-decoration-none text-dark",children:Object(h.jsx)("div",{className:"card border-0",children:Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsx)("h5",{className:"card-title",children:N}),Object(h.jsxs)("div",{className:"card-text",children:[Object(h.jsx)("h6",{children:g}),Object(h.jsx)("h6",{children:y.toUpperCase()})]}),Object(h.jsx)("div",{className:"card-text",children:Object(h.jsx)("span",{className:C>5?"":"text-danger",children:(f=C,0===f?"Out of Stock":f<=5?"Only ".concat(f," left in Stock!"):"In Stock")})})]})})})}),Object(h.jsx)("div",{className:"col-md-3 card border-0",children:Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsx)("div",{className:"card-title fw-bolder",children:Object(h.jsxs)("h5",{children:["$ ",e.product.price]})}),Object(h.jsx)("div",{className:"card-text my-1",children:Object(h.jsx)("button",{className:"btn btn-primary",onClick:function(){return x.apply(this,arguments)},children:n})}),Object(h.jsx)("div",{className:"card-text my-1",children:Object(h.jsx)(b.a,{to:"/product/".concat(w),className:"btn btn-warning",children:"Buy Now"})}),i&&Object(h.jsx)("div",{className:"card-text my-1",children:Object(h.jsx)(b.a,{to:"/admin/update/".concat(w),className:"btn btn-warning",children:"Update"})})]})})]})};c(53);var k=function(){var e=Object(a.useState)(0),t=Object(j.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(!0),s=Object(j.a)(r,2),l=s[0],i=s[1],b=Object(a.useState)([]),u=Object(j.a)(b,2),p=u[0],x=u[1],O=Object(a.useState)([]),f=Object(j.a)(O,2),v=f[0],g=f[1],N=Object(a.useState)([]),k=Object(j.a)(N,2),S=k[0],I=k[1],P=Object(a.useState)([0,1e9]),F=Object(j.a)(P,2),A=F[0],L=F[1],E=Object(a.useState)(""),D=Object(j.a)(E,2),R=D[0],q=D[1],M=new Array(v).fill(null).map((function(e,t){return t}));return Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),t="/products/search/trial?page=".concat(c,"&productsperpage10=&search=").concat(R,"&minprice=").concat(A[0],"&maxprice=").concat(A[1],"&category=").concat(S),e.next=4,m.a.get(t);case 4:a=e.sent,x(a.data.products),g(a.data.totalpages),i(!1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[c,R,A,S]),Object(h.jsx)("div",{className:"container mt-5",children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-md-3",children:Object(h.jsx)(y,{query:R,setQuery:q,searchCategory:S,setSearchCategory:I,price:A,setPrice:L})}),Object(h.jsx)("div",{className:"col-md-9",children:Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"row",children:[l&&Object(h.jsx)("div",{className:"d-flex justify-content-center m-5",children:Object(h.jsx)("div",{className:"spinner-border text-warning loading",role:"status",children:Object(h.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}),!l&&p.map((function(e){return Object(h.jsx)(C,{product:e},e._id)})),Object(h.jsx)(w,{setCurrentPage:n,currentPage:c,pages:M,totalpages:v})]})})})]})})};c(54);var S=function(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(0),s=Object(j.a)(r,2),i=s[0],u=s[1],p=Object(a.useContext)(O),x=p.isAdmin,f=p.loggedIn,v=Object(l.g)();function g(){return(g=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("/login/logout",{withCredentials:!0});case 2:v("/");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("/cart/totalproducts",{withCredentials:!0});case 2:t=e.sent,f&&u(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[f]),Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("a",{className:"navbar-brand fw-bolder fs-2",href:"/",children:Object(h.jsx)("b",{children:"PC partz Store"})}),Object(h.jsxs)("div",{children:[!0===f&&Object(h.jsx)("button",{type:"button",className:"btn btn-light",onClick:function(){n(!c)},children:Object(h.jsx)("span",{className:"bi bi-person-circle fs-3"})}),!1===f&&Object(h.jsx)(b.a,{to:f?"/":"/login",children:Object(h.jsx)("button",{type:"button",className:"btn btn-light",children:Object(h.jsx)("span",{className:"bi bi-person-circle fs-3"})})}),Object(h.jsxs)("div",{className:c?"dropdown-menu d-block":"dropdown-menu",children:[Object(h.jsx)("div",{className:"dropdown-item",children:Object(h.jsx)("button",{className:"btn btn-danger w-100",onClick:function(){return g.apply(this,arguments)},children:"Logout"})}),!0===x&&Object(h.jsx)(b.a,{to:"/admin",children:Object(h.jsx)("div",{className:"dropdown-item",children:Object(h.jsx)("button",{className:"btn btn-warning w-100",children:"Add item"})})})]}),Object(h.jsx)(b.a,{to:f?"/cart":"/login",children:Object(h.jsx)("button",{type:"button",className:"btn btn-light",children:Object(h.jsx)("span",{className:"bi bi-cart3 fs-3",children:Object(h.jsx)("span",{className:"position-absolute top-0 mt-2 right-100 badge rounded-pill bg-danger fw-lighter",children:i})})})})]})]})})})};var I=function(e){var t,c=Object(a.useState)({}),n=Object(j.a)(c,2),r=n[0],s=n[1],i=(Object(a.useContext)(O).getLoggedIn,Object(l.g)());function u(){return(u=Object(d.a)(o.a.mark((function t(){var c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.post("/cart/add/".concat(e.productId),{hello:"hello"},{withCredentials:!0});case 2:c=t.sent,e.setCart(c.data),i("/cart");case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(){return(p=Object(d.a)(o.a.mark((function t(){var c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.post("/cart/reduce/".concat(e.productId),{hello:"hello"},{withCredentials:!0});case 2:c=t.sent,e.setCart(c.data),i("/cart");case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(a.useEffect)((function(){function t(){return(t=Object(d.a)(o.a.mark((function t(){var c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("/products/".concat(e.productId),{withCredentials:!0});case 2:c=t.sent,s(c.data[0]);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e.productId]),Object(h.jsxs)("div",{className:"row border-bottom border-1 mb-2 p-3",children:[Object(h.jsx)("div",{className:"col-md-4 ",children:Object(h.jsx)(b.a,{to:"/product/".concat(e.productId),className:"text-decoration-none text-dark",children:Object(h.jsx)("div",{className:"card-image",children:Object(h.jsx)("img",{src:"/no-thumbnail-medium.jpg",alt:"hello",className:"max-vw-5"})})})}),Object(h.jsx)("div",{className:"col-md-5",children:Object(h.jsx)(b.a,{to:"/product/".concat(e.productId),className:"text-decoration-none text-dark",children:Object(h.jsx)("div",{className:"card border-0",children:Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsxs)("h5",{className:"card-title",children:[r.brand," - ",r.model]}),Object(h.jsx)("div",{className:"card-text",children:Object(h.jsx)("h6",{children:r.category})}),Object(h.jsx)("div",{className:"card-text",children:Object(h.jsx)("span",{className:r.inventory>5?"":"text-danger",children:(t=r.inventory,0===t?"Out of Stock":t<=5?"Only ".concat(t," left in Stock!"):"In Stock")})})]})})})}),Object(h.jsx)("div",{className:"col-md-3 card border-0",children:Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsx)("div",{className:"card-title fw-bolder",children:Object(h.jsxs)("h5",{children:["$ ",r.price]})}),Object(h.jsx)("div",{className:"card-text my-1",children:Object(h.jsxs)("div",{className:"btn-group mr-2",role:"group","aria-label":"First group",children:[Object(h.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){return u.apply(this,arguments)},children:"+"}),Object(h.jsx)("button",{type:"button",className:"btn btn-secondary",children:e.quantity}),Object(h.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){return p.apply(this,arguments)},children:"-"})]})}),Object(h.jsx)("div",{className:"card-text my-1",children:Object(h.jsx)("button",{className:"btn btn-danger",onClick:function(){e.handleRemove(e.productId)},children:"Remove"})})]})})]})};var P=function(){var e=Object(a.useState)({totalPrice:0}),t=Object(j.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(!0),s=Object(j.a)(r,2),i=s[0],b=s[1],u=Object(a.useContext)(O).getLoggedIn,p=Object(l.g)(),x=Object(a.useState)([]),f=Object(j.a)(x,2),v=f[0],g=f[1];function N(){return(N=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==c.totalPrice){e.next=3;break}return alert("Not items in cart"),e.abrupt("return");case 3:return e.prev=3,e.next=6,m.a.post("/cart/checkout",{hello:"hello"},{withCredentials:!0});case 6:return e.next=8,u();case 8:p("/checkout"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0),alert("Something's wrong");case 15:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}function y(e){return w.apply(this,arguments)}function w(){return(w=Object(d.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.post("/cart/remove/".concat(t),{hello:"hello"},{withCredentials:!0});case 2:c=e.sent,n(c.data),b(!i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("/cart",{withCredentials:!0});case 2:t=e.sent,n(t.data),g(t.data.products);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[i]),Object(h.jsx)("div",{className:"container px-5",children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsxs)("div",{className:"col-md-8 px-2",children:[0===v.length&&Object(h.jsx)("div",{className:"text-center m-5",children:Object(h.jsx)("h3",{children:"Cart Empty"})}),v.map((function(e,t){return Object(h.jsx)(I,{productId:e.productId,quantity:e.quantity,setCart:n,setchanged:b,changed:i,handleRemove:y},t)}))]}),Object(h.jsx)("div",{className:"col-md-1 px-2"}),Object(h.jsx)("div",{className:"col-md-3 px-2",children:Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsx)("div",{className:"card-title fw-bolder",children:Object(h.jsxs)("h5",{children:["$ ",c.totalPrice]})}),Object(h.jsx)("div",{className:"card-text my-1 text-center",children:Object(h.jsx)("button",{className:"btn btn-warning w-100",onClick:function(){return N.apply(this,arguments)},children:"Check out"})})]})})]})})};var F=function(e){var t=Object(a.useState)({}),c=Object(j.a)(t,2),n=c[0],r=c[1],s=Object(a.useState)({}),i=Object(j.a)(s,2),u=i[0],p=i[1],x=Object(a.useContext)(O).loggedIn,f=Object(l.g)(),v=Object(l.h)();function g(){return(g=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=3;break}return alert("Login Required"),e.abrupt("return");case 3:return e.next=5,m.a.post("/cart/add/".concat(n._id),{hello:"hello"},{withCredentials:!0});case 5:f("/cart");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("/products/".concat(v.id));case 2:t=e.sent,c=t.data[0],r(c),p(c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[v.id]);var N,y=n.brand,w=n.model,C=n.inventory;return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"container mt-5",children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-md-6",children:Object(h.jsx)("img",{src:"/no-thumbnail-medium.jpg",alt:"hello",className:"w-100 "})}),Object(h.jsxs)("div",{className:"col-md-4",children:[Object(h.jsx)("div",{children:Object(h.jsx)("h2",{children:w})}),Object(h.jsx)("div",{children:Object(h.jsx)("h4",{children:y})}),Object(h.jsx)("div",{className:"container mt-2 p-0",children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("h5",{children:"Specifications"}),Object.keys(u).map((function(e,t){return Object(h.jsxs)("div",{className:"col-sm-6 p-3 ",children:[Object(h.jsx)("p",{className:"border-bottom fw-normal fs-6 text-wrap",children:e.charAt(0).toUpperCase()+e.slice(1)}),Object(h.jsx)("p",{children:t})]},e)}))]})})]}),Object(h.jsx)("div",{className:"card col-md-2",children:Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsx)("h5",{className:"card-title",children:Object(h.jsxs)("span",{className:"w-100 fs-3",children:["$ ",n.price]})}),Object(h.jsx)("span",{className:C>5?"fw-bolder fs-5 card-text":"text-danger fs-5 fw-bolder card-text",children:(N=C,0===N?"Out of Stock":N<=5?"Only ".concat(N," left in Stock!"):"In Stock")}),Object(h.jsx)("div",{className:"card-text my-3 text-center",children:Object(h.jsx)("button",{className:"btn btn-primary w-100",onClick:function(){return g.apply(this,arguments)},children:"Add to Cart"})}),Object(h.jsx)("div",{className:"card-text my-1 text-center",children:Object(h.jsx)(b.a,{to:"/checkout",className:"btn btn-warning w-100",children:"Buy Now"})})]})})]})}),Object(h.jsx)(k,{})]})},A=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(""),s=Object(j.a)(r,2),i=s[0],b=s[1],u=Object(a.useState)(""),p=Object(j.a)(u,2),x=p[0],O=p[1],f=Object(a.useState)(""),v=Object(j.a)(f,2),g=v[0],N=v[1],y=Object(a.useState)(""),w=Object(j.a)(y,2),C=w[0],k=w[1],S=Object(l.g)();function I(){return(I=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,a={brand:c,model:i,price:x,category:g,inventory:C},e.next=5,m.a.post("/admin/product",a,{withCredentials:!0});case 5:S("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"container mt-5 m-auto text-center",children:[Object(h.jsx)("div",{className:"",children:Object(h.jsx)("h2",{children:"Add items to the Database"})}),Object(h.jsxs)("form",{className:"w-25 m-auto mt-4 fs-5",onSubmit:function(e){return I.apply(this,arguments)},children:[Object(h.jsxs)("div",{className:"form text-start",children:[Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"brand",className:"form-label",children:"Brand"}),Object(h.jsx)("input",{type:"text",name:"brand",className:"form-control",placeholder:"brand",onChange:function(e){return n(e.target.value)}})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"model",className:"form-label",children:"Model"}),Object(h.jsx)("input",{type:"text",name:"model",className:"form-control",placeholder:"model",onChange:function(e){return b(e.target.value)}})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"price",className:"form-label",children:"Price"}),Object(h.jsx)("input",{type:"text",name:"price",className:"form-control",placeholder:"price",onChange:function(e){return O(e.target.value)}})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"category",className:"form-label",children:"Category"}),Object(h.jsx)("input",{type:"text",name:"category",className:"form-control",placeholder:"category",onChange:function(e){return N(e.target.value)}})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"Inventory",className:"form-label",children:"Inventory"}),Object(h.jsx)("input",{type:"text",name:"address",className:"form-control",placeholder:"Inventory",onChange:function(e){return k(e.target.value)}})]})]}),Object(h.jsx)("div",{className:"",children:Object(h.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg",children:"Submit"})})]})]})})},L=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(""),s=Object(j.a)(r,2),i=s[0],b=s[1],u=Object(a.useState)(""),p=Object(j.a)(u,2),x=p[0],O=p[1],f=Object(a.useState)(""),v=Object(j.a)(f,2),g=v[0],N=v[1],y=Object(a.useState)(""),w=Object(j.a)(y,2),C=w[0],k=w[1],S=Object(a.useState)(""),I=Object(j.a)(S,2),P=I[0],F=I[1],A=Object(l.g)(),L=Object(l.h)();function E(){return(E=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,a={_id:c,brand:i,model:x,price:g,category:C,inventory:P},e.next=5,m.a.put("/admin/product",a,{withCredentials:!0});case 5:A("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function D(){return(D=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.delete("/admin/product/".concat(c),{withCredentials:!0});case 3:A("/"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("/products/".concat(L.id),{withCredentials:!0});case 2:t=e.sent,n(t.data[0]._id),b(t.data[0].brand),O(t.data[0].model),N(t.data[0].price),k(t.data[0].category),F(t.data[0].inventory);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[L.id]),Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"container mt-5 m-auto text-center",children:[Object(h.jsx)("div",{className:"",children:Object(h.jsx)("h2",{children:"Update items to the Database"})}),Object(h.jsxs)("form",{className:"w-25 m-auto mt-4 fs-5",onSubmit:function(e){return E.apply(this,arguments)},children:[Object(h.jsxs)("div",{className:"form text-start",children:[Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"brand",className:"form-label",children:"Brand"}),Object(h.jsx)("input",{type:"text",name:"brand",className:"form-control",placeholder:i,value:i,onChange:function(e){return b(e.target.value)}})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"model",className:"form-label",children:"Model"}),Object(h.jsx)("input",{type:"text",name:"model",className:"form-control",placeholder:x,value:x,onChange:function(e){return O(e.target.value)}})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"price",className:"form-label",children:"Price"}),Object(h.jsx)("input",{type:"text",name:"price",className:"form-control",placeholder:g,value:g,onChange:function(e){return N(e.target.value)}})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"category",className:"form-label",children:"Category"}),Object(h.jsx)("input",{type:"text",name:"category",className:"form-control",placeholder:C,value:C,onChange:function(e){return k(e.target.value)}})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"Inventory",className:"form-label",children:"Inventory"}),Object(h.jsx)("input",{type:"text",name:"address",className:"form-control",placeholder:P,value:P,onChange:function(e){return F(e.target.value)}})]})]}),Object(h.jsx)("div",{className:"",children:Object(h.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg",children:"Confirm"})})]}),Object(h.jsx)("button",{type:"button ",className:"btn btn-danger btn-lg mt-5",onClick:function(){return D.apply(this,arguments)},children:"Delete"})]})})};var E=function(){return Object(h.jsxs)("div",{className:"class text-center m-5",children:[Object(h.jsx)("h3",{children:"Your order has been place"}),Object(h.jsx)("h5",{children:"Thank you for shopping with us"})]})};var D=function(){var e=Object(a.useContext)(O),t=e.loggedIn,c=e.isAdmin;return Object(h.jsxs)(l.a,{children:[Object(h.jsx)(S,{}),Object(h.jsxs)(l.d,{children:[Object(h.jsx)(l.b,{exact:!0,path:"/",element:Object(h.jsx)(k,{})}),Object(h.jsx)(l.b,{path:"/product/:id",element:Object(h.jsx)(F,{})}),!1===t&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(l.b,{path:"/register",element:Object(h.jsx)(v,{})}),Object(h.jsx)(l.b,{path:"/login",element:Object(h.jsx)(f,{})})]}),!0===t&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(l.b,{path:"/cart",element:Object(h.jsx)(P,{})}),Object(h.jsx)(l.b,{path:"/checkout",element:Object(h.jsx)(E,{})})]}),!0===c&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(l.b,{path:"/admin/update/:id",element:Object(h.jsx)(L,{})}),Object(h.jsx)(l.b,{path:"/admin",element:Object(h.jsx)(A,{})})]})]})]})};var R=function(){return console.log("production"),m.a.defaults.baseURL="/api",Object(h.jsx)(x,{children:Object(h.jsx)(D,{})})},q=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,56)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),a(e),n(e),r(e),s(e)}))};s.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(R,{})}),document.getElementById("root")),q()}},[[55,1,2]]]);
//# sourceMappingURL=main.82fdc9ba.chunk.js.map